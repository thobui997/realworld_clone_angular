(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{nWY6:function(t,e,o){"use strict";o.r(e),o.d(e,"SettingModule",(function(){return f}));var r=o("ofXK"),i=o("3Pt+"),n=o("tyNb"),b=o("LRne"),s=o("eIep"),c=o("nYR2"),u=o("fXoL"),l=o("tQKq");function m(t,e){if(1&t){const t=u.Nb();u.Mb(0,"form",7),u.Tb("ngSubmit",(function(){u.ic(t);const o=e.ngIf;return u.Vb().onSubmitForm(o)})),u.Mb(1,"fieldset",8),u.Mb(2,"fieldset",9),u.Ib(3,"input",10),u.Lb(),u.Mb(4,"fieldset",9),u.Ib(5,"input",11),u.Lb(),u.Mb(6,"fieldset",9),u.Mb(7,"textarea",12),u.oc(8,"              "),u.Lb(),u.Lb(),u.Mb(9,"fieldset",9),u.Ib(10,"input",13),u.Lb(),u.Mb(11,"fieldset",9),u.Ib(12,"input",14),u.Lb(),u.Mb(13,"button",15),u.oc(14," Update Settings "),u.Lb(),u.Lb(),u.Lb()}if(2&t){const t=e.ngIf,o=u.Vb();u.bc("formGroup",t),u.xb(1),u.bc("disabled",o.isSubmitting)}}const a=[{path:"",component:(()=>{class t{constructor(t,e,o){this.router=t,this.fb=e,this.userService=o,this.isSubmitting=!1}ngOnInit(){this.settingFormGroup$=this.userService.currentUser.pipe(Object(s.a)(t=>Object(b.a)(this.initForm(t))))}logOut(){this.userService.destroyAuth(),this.router.navigateByUrl("/home")}initForm(t){return this.fb.group({image:[null==t?void 0:t.image],username:[t.username,[i.i.required]],bio:[null==t?void 0:t.bio],email:[t.email,[i.i.email]],password:[""]})}onSubmitForm(t){this.isSubmitting=!0,this.userService.updateUser({user:t.getRawValue()}).pipe(Object(c.a)(()=>this.isSubmitting=!1)).subscribe(t=>this.router.navigate(["/profile",t.username]))}}return t.\u0275fac=function(e){return new(e||t)(u.Hb(n.c),u.Hb(i.b),u.Hb(l.a))},t.\u0275cmp=u.Bb({type:t,selectors:[["app-setting"]],decls:11,vars:3,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control","form-control-lg"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control","form-control-lg"],["type","email","placeholder","Email","formControlName","email",1,"form-control","form-control-lg"],["type","password","placeholder","New Password","formControlName","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"]],template:function(t,e){1&t&&(u.Mb(0,"div",0),u.Mb(1,"div",1),u.Mb(2,"div",2),u.Mb(3,"div",3),u.Mb(4,"h1",4),u.oc(5,"Your Settings"),u.Lb(),u.nc(6,m,15,2,"form",5),u.Wb(7,"async"),u.Ib(8,"hr"),u.Mb(9,"button",6),u.Tb("click",(function(){return e.logOut()})),u.oc(10," Or click here to logout. "),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb()),2&t&&(u.xb(6),u.bc("ngIf",u.Xb(7,1,e.settingFormGroup$)))},directives:[r.t,i.j,i.g,i.e,i.a,i.f,i.d],pipes:[r.b],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=u.Fb({type:t}),t.\u0275inj=u.Eb({factory:function(e){return new(e||t)},imports:[[n.g.forChild(a)],n.g]}),t})(),f=(()=>{class t{}return t.\u0275mod=u.Fb({type:t}),t.\u0275inj=u.Eb({factory:function(e){return new(e||t)},imports:[[r.c,p,i.h]]}),t})()}}]);