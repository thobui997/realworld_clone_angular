!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{nWY6:function(o,r,n){"use strict";n.r(r),n.d(r,"SettingModule",(function(){return y}));var i=n("ofXK"),u=n("3Pt+"),b=n("tyNb"),a=n("LRne"),c=n("eIep"),s=n("nYR2"),l=n("fXoL"),f=n("tQKq");function m(t,e){if(1&t){var o=l.Nb();l.Mb(0,"form",7),l.Tb("ngSubmit",(function(){l.ic(o);var t=e.ngIf;return l.Vb().onSubmitForm(t)})),l.Mb(1,"fieldset",8),l.Mb(2,"fieldset",9),l.Ib(3,"input",10),l.Lb(),l.Mb(4,"fieldset",9),l.Ib(5,"input",11),l.Lb(),l.Mb(6,"fieldset",9),l.Mb(7,"textarea",12),l.oc(8,"              "),l.Lb(),l.Lb(),l.Mb(9,"fieldset",9),l.Ib(10,"input",13),l.Lb(),l.Mb(11,"fieldset",9),l.Ib(12,"input",14),l.Lb(),l.Mb(13,"button",15),l.oc(14," Update Settings "),l.Lb(),l.Lb(),l.Lb()}if(2&t){var r=e.ngIf,n=l.Vb();l.bc("formGroup",r),l.xb(1),l.bc("disabled",n.isSubmitting)}}var p,g,d,h=[{path:"",component:(p=function(){function o(e,r,n){t(this,o),this.router=e,this.fb=r,this.userService=n,this.isSubmitting=!1}var r,n,i;return r=o,(n=[{key:"ngOnInit",value:function(){var t=this;this.settingFormGroup$=this.userService.currentUser.pipe(Object(c.a)((function(e){return Object(a.a)(t.initForm(e))})))}},{key:"logOut",value:function(){this.userService.destroyAuth(),this.router.navigateByUrl("/home")}},{key:"initForm",value:function(t){return this.fb.group({image:[null==t?void 0:t.image],username:[t.username,[u.i.required]],bio:[null==t?void 0:t.bio],email:[t.email,[u.i.email]],password:[""]})}},{key:"onSubmitForm",value:function(t){var e=this;this.isSubmitting=!0,this.userService.updateUser({user:t.getRawValue()}).pipe(Object(s.a)((function(){return e.isSubmitting=!1}))).subscribe((function(t){return e.router.navigate(["/profile",t.username])}))}}])&&e(r.prototype,n),i&&e(r,i),o}(),p.\u0275fac=function(t){return new(t||p)(l.Hb(b.c),l.Hb(u.b),l.Hb(f.a))},p.\u0275cmp=l.Bb({type:p,selectors:[["app-setting"]],decls:11,vars:3,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control","form-control-lg"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control","form-control-lg"],["type","email","placeholder","Email","formControlName","email",1,"form-control","form-control-lg"],["type","password","placeholder","New Password","formControlName","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"]],template:function(t,e){1&t&&(l.Mb(0,"div",0),l.Mb(1,"div",1),l.Mb(2,"div",2),l.Mb(3,"div",3),l.Mb(4,"h1",4),l.oc(5,"Your Settings"),l.Lb(),l.nc(6,m,15,2,"form",5),l.Wb(7,"async"),l.Ib(8,"hr"),l.Mb(9,"button",6),l.Tb("click",(function(){return e.logOut()})),l.oc(10," Or click here to logout. "),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.xb(6),l.bc("ngIf",l.Xb(7,1,e.settingFormGroup$)))},directives:[i.t,u.j,u.g,u.e,u.a,u.f,u.d],pipes:[i.b],styles:[""]}),p)}],v=((d=function e(){t(this,e)}).\u0275mod=l.Fb({type:d}),d.\u0275inj=l.Eb({factory:function(t){return new(t||d)},imports:[[b.g.forChild(h)],b.g]}),d),y=((g=function e(){t(this,e)}).\u0275mod=l.Fb({type:g}),g.\u0275inj=l.Eb({factory:function(t){return new(t||g)},imports:[[i.c,v,u.h]]}),g)}}])}();